---
title: 正则
date: 2023-03-23
categories:
  - 前端
tags:
  - 正则
---

**限定符**
- ? 出现0次或者1次
- * 匹配0个或者多个字符
- + 匹配1次以及以上字符
- {} 限定匹配的数量，{n}, {n, 2n}, {n,}
- . 任意字符，不包含换行符
- ^ 匹配行首
- $ 匹配行尾
- | 或 a(cat|dog) 匹配的是 acat 或者 adog
- [] 表示只能取里面的字符
- ^[] 表示取里面之外的字符

**元字符**

- \d 数字字符[0-9]
- \D 非数字字符
- \w 单词字符
- \W 非单词字符
- \s 空白符，包含 tab 和换行符
- \S 非空白符
- \b 单词边界
- \B 非单词边界


**贪婪和懒惰匹配**
贪婪匹配：匹配尽可能多的字符，如：a.*b，以 a 开始，以 b 结束的字符，如果搜索 aabab 的话，将匹配整个字符串
懒惰匹配：匹配尽可能少的字符，如：a.*?b，以 a 开始，以 b 结束的字符，如果搜索 aabab 的话，将会匹配 aab 和 ab。为什么第一个匹配是 aab，而不是 ab？因为正则表达式有一条比懒惰/贪婪规则优先的规则 -- 最先开始的匹配拥有最高的优先权

**断言，只匹配一个位置**
先行断言：(?=exp) 想匹配一个“人”字，但是只匹配特定国家的人：(?=中国)人
先行否定断言：(?!exp)
后行断言：(?<=exp)
后行否定断言：(?<!exp)

**分组**
() 表示捕获分组，() 会把每个分组里的匹配的值保存起来，使用 $n（n表示第n个捕获组的内容）
(?:) 表示非捕获组，和捕获分组的唯一区别在于匹配的值不会保存起来
例：数字格式化
"1234567890".replace(/\B(?=(?:\d{3})+(?!\d))/g,",") // 结果：1,234,567,890，匹配的是后面是3*n个数字的非单词边界(\B)
---
1. 查找前面(?=(?:\d{3})+(?!\d))的\B（非单词边界），即单词与单词间的间隙
2. (?:) 表示非捕获组可先忽略
3. (\d{3})+(?!\d) 贪婪模式查找后面不是 \d(数字)的3n个\d
4. 整句的意思是查找3n+1(非数字)组合前的非单词边界
5. 1▵234 567 890♀ 字符表示后一位的字符(▵：非单词边界，♀：非数字)，符合，替换成1,234567890
6. 1,2▵345678♀90 9是数字，不符合
7. 
---